***Git으로 버전관리 / Git 저장소 생성***

# 02-1 Git 저장소 생성
- Git으로 버전 관리를 하려면 폴더 안에 버전이 저장되는 공간이 필요한데 이것을 저장소(repository)라 한다.

1. Git 저장소를 만들기 전에 새로운 디렉토리 생성
```bash
$ mkdir hello-git
$ cd hello-git
```
2. 안의 내용을 살펴보기 위해 ls -la명령을 사용. -l,-a 함께 붙여서도 사용 가능

3. (.) 항목은 현재 디렉토리를 나타내고, (..)인 항목은 상위 디렉토리를 나타낸다.

4. 이 디렉토리에 저장소를 만들기 위해 터미널에 git init을 입력. 현재 디렉토리에서 git을 사용할 수 있도록 초기화한다.
```bash
$ git init
```
5. hello-git에서 git을 사용할 수 있다.

6. 디렉토리 안의 내용을 확인해 보면 .git이라는 디렉토리가 생성되어 있다. 이 폴더는 git을 사용하면서 버전이 저장될 '저장소(repository)'이다.

# 02-2 버전 만들기

- 프로그램 개발에서는 수정 내용이 쌓이면 새로 번호를 붙여서 이전 상태와 구별한다. 이렇게 번호 등을 통해 구별하는 것을 버전이라고 한다.
- Git에서도 문서를 수정할 때마다 버전을 만들면서 이전 상태와 구별한다.

**Git에서 버전이란**
- Git에서 버전이란 문서를 수행하고 저장할 때마다 생기는 것이라 보면 된다.
- 훨씬 쉽게 버전을 만들고, 또한 버전을 만든 시간과 수정 내용까지 기록할 수 있는 것이 바로 Git과 같은 버전 관히 시스템이다. Git에서 버전을 관리하면 원래 파일 이름은 그대로 유지하면서 파일에서 무엇을 변경했는지를 변경 시점마다 저장할 수 있다. 또 버전마다 작업한 내용을 확인할 수 있고, 그 버전으로 되돌릴 수도 있다.

**스테이지와 커밋 이해하기**

- 작업 트리
	- 작업 트리는 파일 수정, 저장 등의 작업을 하는 디렉토리이다.

- 스테이지 
	- 스테이지는 버전으로 만들 파일이 대기하는 곳이다. 스테이지 영역이라고도 한다.

- 저장소 영역
	- 저장소, 즉 repository는 스테이지에서 대기하고 있던 파일들을 버전으로 만들어 저장하는 곳이다. 스테이지와 저장소는 .git 디렉토이 안에 숨은 파일 형태로 존재한다.
	- hello.txt 파일 문서를 수정하고 저장하면 그 파일은 작업 트리에 있게 된다. 그리고 수정한 hello.txt 파일을 스테이지에 넣는다. 다른 파일도 수정한 뒤 스테이지에 넣어 둔다. 스테이지에 다 넣었다면 버전을 만들기 위해 Git에서 '커밋(commit)'명령을 실행한다. 그러면 새로운 버전이 생성되면서 스테이지에 대기하던 파일이 모두 저장소에 저장된다.

- 먼저 작업 트리에서 문서를 수정한다. 수정한 파일 가운데 버전을 만들고 싶은 것을 스테이지 영역, 즉 스테이지에 저장한다. 그리고 스테이지에 있던 파일을 저장소로 커밋하면 버전이 만들어 진다.

**작업 트리에서 문서 수정하기**

1. Git 상태를 확인하기 위해 $git status로 상태 확인 
```bash
$ git status
```
 -	1. on brach main(master): 현재 main 브런치에 위치해 있음을 의미.
 - 2. No commit yet: 아직 커밋한 파일이 없음을 의미
 - 3. nothing to commit: 현재 커밋할 파일이 없음을 의미

 2. hello-git 디렉토리에 새로운 파일을 생성
 ```bash
 $ vim hello.txt
 ```
3. 입력 모드에서 간단히 입력, 입력 후 저장

4. 터미널 창에서 $ls -la명령으로 생성한 파일을 확인 

5. Git의 상태를 다시 한 번 확인
  	- Git에서는 아직 한 번도 관리하지 않은 파일을 untracked files라고 한다.

**수정한 파일 스테이지에 올리기 - git add**
- 작업 트리에서 파일을 생성하거나 수정했다면 스테이지에 수정한 파일을 추가, 이렇게 Git에게 버전 만들 준비하라고 알려주는 것을 스테이징(staging) 또는 스테이지에 올린다 라고 한다.

- 스테이징 내용은 .git/index 파일에 저장되므로 스테이지에 올린 것을 '인덱스(index)에 등록한다.' 라고 한다.

1. 깃에서 스테이징할 때 사용하는 명령은 git add 
```bash
$ git add hello.txt
```

2. Git 상태 확인하기
```bash
$ git status
```
- 윈도우에서 스테이징할 때 경고 메세지가 나타나는 이유
 	- 텍스트 문서의 CRLF 문자를 LF 문자로 자동 변환해서 커밋할 것이라는 의미
	- 윈도우에서 문서를 저장하면 줄이 바뀌는 자리에 눈에 보이지 않는 CR문자와 LF문자가 삽입. 리눅스와 맥에서는 문서를 저장할 때 줄이 바뀌는 자리에 LF문자가 삽입된다.

**스테이징한 파일 커밋하기 - git commit**
 - 파일이 스테이징 영역에 있다면 버전을 만들 수 있다. 버전 만드는 것을 Git에서는 커밋한다라고 한다. 커밋할 때는 변경 사항을 확인할 수 있도록 메세지를 함께 기록해 두어야 한다.

 1. Git에서 파일을 커밋하는 명령(git commit)이다. -m옵션을 붙이고 커밋과 함께 저장할 메세지를 작성. 이 메세지를 커밋 메세지라고 한다.
 ```bash
 $ git commit -m "숫자를 1입력한 txt문서를 생성
```
 2. 커밋한 후에 결과 메시지를 보면 파일 1개가 변경되었고, (iffile changed), 파일에 1개의 추가되었다고는 (1 insertion(+)) 메시지 출력. 스테이지에 있던 hello.txt 파일이 저장소에 추가

 3. 커밋한 후 상태 보기
 ```bash
$ git status
```
 4. 버전으로 만들 파일이 없고(nothing commit), 작업 트리도 수정사항 없다(working tree clean)고 출력
 
 5. 저장소에 버전을 확인할 때는 log 명령을 사용
```bash
$ git log
```
6. 커밋한 버전을 설명하는 정보가 나타난다. 커밋을 만든 사람과 시간, 커밋 메시지가 함께 출력된다. 수정판 하일을 커밋하면 이렇게 수정과 관련된 여러 정보를 함께 저장할 수 있고 필요할 때 확인할 수도 있다.

**스테이징과 커밋 한꺼번에 처리하기 -git commit -am**
- 수정한 파일을 하나씩 스테이지에 올려두었다가 한꺼번에 커밋할 수도 있지만, 수정한 내용을 스테이지에 올리는 동시에 커밋까지 처리할 수 있다. 단, 이 방법은 한번이라도 커밋한 적이 있는 파일을 다시 커밋할 때만 사용할 수 있다.
- -am 옵션은 all을 뜻하는 -a 옵션과 message를 뜻하는 -m 옵션을 함께 사용하는 것이다. -a, -m처럼 따로 적용해도 된다.

***hello.txt 파일을 다시 수정해서 스테이징과 커밋을 한꺼번에 처리***
```
vim hello.txt
```
1. 텍스트 파일의 내용을 수정

2. -am 옵션을 붙여서 스테이징과 커밋을 한꺼번에 처리
```
$ git commit -am "message2"
```
3. 커밋한 정보를 확인
```
$ git log
```
4. 버전이 2개가 출력되는데, 가장 최근 버전 정보가 "message2"라는 메세지와 함께 맨 위에 출력

